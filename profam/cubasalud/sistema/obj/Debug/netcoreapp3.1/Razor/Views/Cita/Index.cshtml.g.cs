#pragma checksum "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7614495ef889eb9f61a8fe21200e69828f242218"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Cita_Index), @"mvc.1.0.view", @"/Views/Cita/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/_ViewImports.cshtml"
using farmamest;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/_ViewImports.cshtml"
using farmamest.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"7614495ef889eb9f61a8fe21200e69828f242218", @"/Views/Cita/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a5db3d1b3fd50b9fbe59a9ed236babcd45883d8c", @"/Views/_ViewImports.cshtml")]
    public class Views_Cita_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<sistema.Models.CitasSchedulerViewModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "Lista", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-controller", "Cita", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("btn btn-danger"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-action", "CitasFinalizadas", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("btn btn-success"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/javascript"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/daypilot-all.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
  
    ViewData["Title"] = "Citas";

#line default
#line hidden
#nullable disable
            WriteLiteral("\n    <div class=\"form-row\">\n        <div class=\"col-md-12\">\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "7614495ef889eb9f61a8fe21200e69828f2422185829", async() => {
                WriteLiteral("\n                <i class=\"fas fa-list\"></i> &nbsp; Formato lista \n            ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Action = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Controller = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\n\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "7614495ef889eb9f61a8fe21200e69828f2422187343", async() => {
                WriteLiteral("\n                <i class=\"fas fa-check\"></i> &nbsp; Citas Finalizadas \n            ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Action = (string)__tagHelperAttribute_3.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_3);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Controller = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
        </div>
    </div>
    <br>

    <div style=""display: flex;"">
        <div style=""margin-right: 10px;"">
            <div id=""nav""></div>
        </div>
        <div style=""flex-grow: 1;"">
            <div id=""dp""></div>
        </div>
    </div>

     <script type=""text/javascript"">

        var nav = new DayPilot.Navigator(""nav"");
        nav.locale = ""es-mx"";
        nav.showMonths = 3;
        nav.skipMonths = 3;
        nav.selectMode = ""Day"";
        nav.freeHandSelectionEnabled = true;
        nav.selectionDay = DayPilot.Date.today();
        nav.onTimeRangeSelected = function (args) {
            console.log(args);
            dp.startDate = args.start;
            dp.update();
        };
        nav.onBeforeCellRender = function (args) {
            if (args.cell.isCurrentMonth) {
                args.cell.cssClass = ""current-month"";
            }
        };
        nav.onVisibleRangeChange = function (args) {
            var start = args.start;
            var end = args.end;

            if ");
            WriteLiteral(@"(start <= nav.selectionDay && nav.selectionDay < end) {
                return;
            }

            var day = nav.selectionDay.getDay();
            var target = start.firstDayOfMonth().addDays(day);
            nav.select(target);
        };
        
        nav.init();



");
            WriteLiteral(@"
        var dp = new DayPilot.Calendar(""dp"");
        dp.locale = ""es-mx"";

        // view
        dp.startDate = DayPilot.Date.today();
        dp.viewType = ""Week"";
        dp.allDayEventHeight = 25;

        dp.eventDeleteHandling = ""Update"";

        // on delete X button
         dp.onEventDelete = function(args) {
             if (!confirm(""¿Está seguro de eliminar esta cita?"")) {
                 args.preventDefault();
            }
            else {


            }
        };

        // cuando se presiona el boton yes 
        dp.onEventDeleted = function(args) {
        
        var data = {""id"" : parseInt(args.e.data.id)}
            $.ajax({
                url: ""/Cita/EliminarCita/"",
                data: data ,
                type: 'POST',
                success: function (result) {

                    dp.message(""Se ha eliminado la cita."");
                },
                error: function (error) {
                    
                    args.preventDefault();
                }
       ");
            WriteLiteral(@"     });
        };

        // bubble, with async loading
        dp.bubble = new DayPilot.Bubble({
        onLoad: function (args) {
        var ev = args.source;
        //alert(""event: "" + ev);
        args.async = true;  // notify manually using .loaded()

        // simulating slow server-side load
        setTimeout(function () {
            args.html = ev.text();
            args.loaded();
        }, 500);
        }
        });

        dp.contextMenu = new DayPilot.Menu({
        items: [
        {
            text: ""Ver detalles"", onclick: function () {
");
            WriteLiteral("                window.location.href = \"/Cita/EditarCita/\" + this.source.value();\n            }\n        },\n        {\n            text: \"Finalizar Cita\", onclick: function () {\n");
            WriteLiteral(@"
            if (confirm(""¿Está seguro de finalizar esta cita?"")) {
                dp.events.remove(this.source);
                
                var data = {""id"" : parseInt(this.source.value())}

                $.ajax({
                    url: ""/Cita/FinalizarCita/"",
                    data: data ,
                    type: 'POST',
                    success: function (result) {

                        dp.message(""Se ha finalizado la cita."");

                    },
                    error: function (error) {
                        alert(error);
                        args.preventDefault();
                    }
                });
                }
            }
        },
");
            WriteLiteral(@"        {
            text: ""Eliminar cita"", onclick: function () {
                
                if (confirm(""¿Está seguro de eliminar esta cita?"")) {
                dp.events.remove(this.source);
                
                var data = {""id"" : parseInt(this.source.value())}

                $.ajax({
                    url: ""/Cita/EliminarCita/"",
                    data: data ,
                    type: 'POST',
                    success: function (result) {

                        dp.message(""Se ha eliminado la cita."");

                    },
                    error: function (error) {
                        alert(error);
                        args.preventDefault();
                    }
                });
                }

            }
        }
        ]
        });

        // event moving
        dp.onEventMoved = function (args) {

         var data = {
             ""id"" : parseInt(args.e.data.id),
             ""fechaInicio"" : args.newStart.value,
             ""fechaFinal"" : args.n");
            WriteLiteral(@"ewEnd.value,
          }
          console.log(args);
          console.log(data);

            $.ajax({
                url: ""/Cita/MoverCita"",
                data: data,
                type: 'POST',
                success: function (result) {

                    dp.message(""Se ha movido la cita."");

                },
                error: function (error) {
                    dp.message(error.responseJSON.message);
                }
            }); 
        };

        // event resizing
        dp.onEventResized = function (args) {
            var data = {
                ""id"" : parseInt(args.e.data.id),
                ""fechaInicio"" : args.newStart.value,
                ""fechaFinal"" : args.newEnd.value,
            }
            console.log(args);
            console.log(data);

                $.ajax({
                    url: ""/Cita/ResizeCita"",
                    data: data,
                    type: 'POST',
                    success: function (result) {

                        dp.message(""S");
            WriteLiteral(@"e ha modificado la cita."");

                    },
                    error: function (error) {
                        dp.message(error.responseJSON.message);
                    }
                }); 
        };
        

        // event creating
        dp.onTimeRangeSelected = function (args) {

");
            WriteLiteral("        dp.clearSelection();\n");
            WriteLiteral("\n        var data = {\n            \"Cita\": {\n");
            WriteLiteral(@"                ""FechaInicio"" : args.start,
                ""FechaFinal"" : args.end,
            },
        }

            return $.ajax({
                url: ""/Cita/NuevaCita"",
                contentType: 'application/json',
                dataType: 'json',
                data: JSON.stringify(data),
                type: 'POST',
                success: function (result) {

                    var e = new DayPilot.Event({
                        start: args.start,
                        end: args.end,
                        id: result,
                        //resource: args.resource,
                        text: """"
                        });

                    dp.events.add(e);
                    dp.message(""Se ha creado la cita"");

                },
                error: function (error) {
                    dp.message(error.responseJSON.message);
                }
            });
        
        };

        dp.onTimeRangeRightClick = function (args) {
        window.console && console.log(");
            WriteLiteral(@"args);
        };

        dp.onTimeRangeDoubleClicked = function (args) {
        alert(""DoubleClick: start: "" + args.start + "" end: "" + args.end + "" resource: "" + args.resource);
        };

        dp.onEventClick = function (args) {
        //alert(""clicked: "" + args.e.id());
        };

        dp.eventDoubleClickHandling = ""Enabled"";
        dp.onEventDoubleClick = function (args) {
");
            WriteLiteral("        };\n\n        dp.showEventStartEnd = true;\n        dp.scrollLabelsVisible = true;\n\n");
            WriteLiteral("\n        dp.events.list = [\n");
#nullable restore
#line 314 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
             foreach(var item in Model.CitasList)
                {
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 316 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
                                                                                                                      
                    var cliente = item.Paciente == null ? "" : item.Paciente.Nombre.ToString();


#line default
#line hidden
#nullable disable
            WriteLiteral("            ");
            WriteLiteral("{\n                    ");
            WriteLiteral("start: DayPilot.Date.parse(\'");
#nullable restore
#line 320 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
                                             Write(item.FechaInicio);

#line default
#line hidden
#nullable disable
            WriteLiteral("\', \"MM/dd/yyyy HH:mm:ss\"),\n                    ");
            WriteLiteral("end:   DayPilot.Date.parse(\'");
#nullable restore
#line 321 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
                                             Write(item.FechaFinal);

#line default
#line hidden
#nullable disable
            WriteLiteral("\', \"MM/dd/yyyy HH:mm:ss\"),\n                    ");
            WriteLiteral("id: \'");
#nullable restore
#line 322 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
                      Write(item.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\n                    ");
            WriteLiteral("text: \'");
#nullable restore
#line 323 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
                        Write(cliente);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\n                    ");
            WriteLiteral("tags: {\"type\": \"");
#nullable restore
#line 324 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"
                                 Write(item.EspecialidadText);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"}\n            ");
            WriteLiteral("},\n");
#nullable restore
#line 326 "/home/benjamin/Desktop/labs/LabsClinics/profam/cubasalud/sistema/Views/Cita/Index.cshtml"

                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

        ]; 

        console.log(dp.events.list);

        dp.onBeforeEventRender = function(args) {
        var type = args.data.tags && args.data.tags.type;
        switch (type) {

            case ""Medicina general"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#2fb9e7"";
                args.data.borderColor = ""#2fb9e7"";
                break;

            case ""Medicina est&#xE9;tica"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#A02B4E"";
                args.data.borderColor = ""#A02B4E"";
                break;

            case ""Ginecolog&#xED;a y Obstetricia"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#e660c3"";
                args.data.borderColor = ""#e660c3"";
                break;
                
            case ""Pediatr&#xED;a"":
                args.data.fontColor = ""#000"";
                args.data.backColor = ""#ffa500"";
                args.data.borderColor = ""#");
            WriteLiteral(@"ffa500"";
                break;

            case ""Cirug&#xED;a"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#808080"";
                args.data.borderColor = ""#808080"";
                break;

            case ""Traumatolog&#xED;a"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#000000"";
                args.data.borderColor = ""#000000"";
                break;

            case ""Medicina interna"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#8B4513"";
                args.data.borderColor = ""#8B4513"";
                break;

            case ""Laboratorio cl&#xED;nico"":
                args.data.fontColor = ""#ffffff"";
                args.data.backColor = ""#008000"";
                args.data.borderColor = ""#008000"";
                break;
        }
    };
        

");
            WriteLiteral("\n        dp.timeRangeSelectingStartEndEnabled = true;\n\n        dp.init();\n\n        \n        \n    </script>\n\n");
            DefineSection("css", async() => {
                WriteLiteral("\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "7614495ef889eb9f61a8fe21200e69828f24221822030", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\n");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<sistema.Models.CitasSchedulerViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
